<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Faithful surface realization | VSAVM</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fraunces:wght@400;600&family=Space+Grotesk:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../assets/site.css">
  </head>
  <body>
    <div class="site">
      <header class="header">
        <div class="brand">VSAVM</div>
        <nav class="nav">
          <a href="../index.html">Home</a>
          <a href="../specs/">Specs</a>
          <a href="../theory/index.html">Theory</a>
          <a href="../wiki/index.html">Wiki</a>
        </nav>
      </header>
      <main class="main content">
        <h1>Faithful surface realization</h1>
<p>This page is a theory note. It expands the topic in short chapters and defines terminology without duplicating the formal specification documents.</p><p>The diagram has a transparent background and is intended to be read together with the caption and the sections below.</p>
<p>Related wiki pages: <a href="../wiki/vm.html">VM</a>, <a href="../wiki/event-stream.html">event stream</a>, <a href="../wiki/vsa.html">VSA</a>, <a href="../wiki/bounded-closure.html">bounded closure</a>, <a href="../wiki/consistency-contract.html">consistency contract</a>.</p>
<p>Related specs: <a href="../specs-viewer.html?doc=specs/DS001-foundations-and-architecture.md">DS001</a>.</p>

<h2>Overview</h2>
<p>Decoding is a common place where systems silently reintroduce hallucinations. VSAVM treats decoding as surface realization of internal objects. If the VM did not derive a fact, the realizer is not allowed to state it as true.</p>

<h2>Surface realization architecture</h2>
<p>The surface realization system transforms internal symbolic representations into natural language through multiple stages:</p>
<ul>
  <li><strong>Content planning</strong>: Determine what information to include and how to organize it. Learned templates specify structure for different query types. Consider user expertise level for appropriate detail. Maintain logical dependencies for coherent presentation order.</li>
  <li><strong>Discourse structure generation</strong>: Create high-level organization (paragraphs, sections, overall flow). Learned patterns of effective information organization. Rhetorical strategies for clarity and persuasiveness.</li>
  <li><strong>Lexical selection</strong>: Choose words and phrases balancing precision, clarity, and naturalness. Extensive knowledge of meanings, connotations, usage patterns. Adapt vocabulary to user's apparent expertise level.</li>
  <li><strong>Syntactic realization</strong>: Generate grammatically correct sentences expressing complex logical relationships. Choose structures that effectively communicate intended content with appropriate emphasis.</li>
</ul>

<h2>Fidelity preservation mechanisms</h2>
<p>Multiple mechanisms ensure output accurately reflects internal representations:</p>
<ul>
  <li><strong>Semantic fidelity checking</strong>: Back-translation converts output back to symbolic form for comparison with originals. Multi-level checking from individual facts to complex arguments. Detect both explicit and implicit violations.</li>
  <li><strong>Logical consistency preservation</strong>: Track logical relationships in output vs. internal representations. Careful management of qualifiers and uncertainty markers. Identify potentially ambiguous or misleading expressions.</li>
  <li><strong>Provenance tracking</strong>: Maintain connections between output elements and internal representations. Support forward tracing (internal to output) and backward tracing (output to internal). Enable different levels of explanation and justification.</li>
</ul>

<h2>What is realized</h2>
<p>The VM can produce a verdict, a structured object, a plan, or an execution trace. The realizer converts these internal objects into a requested surface form such as prose, a structured event stream, or a report. The emphasis is on fidelity: every factual sentence corresponds to an internal artifact.</p>

<h2>Multimodal output generation</h2>
<p>The system can generate output in multiple modalities while maintaining fidelity standards:</p>
<ul>
  <li><strong>Structured output</strong>: Tables, lists, diagrams for content where such formats are more effective. Combine multiple formats within single response (prose + tables). Same fidelity requirements as natural language.</li>
  <li><strong>Visual output</strong>: Diagrams, charts for complex relationships difficult to express in text. Learned associations between content types and effective visual representations. Semantic fidelity ensured in visual elements and relationships.</li>
  <li><strong>Interactive output</strong>: Dynamic representations allowing users to explore information space. Personalized explanations based on demonstrated interests. Maintain fidelity regardless of user interactions.</li>
</ul>

<h2>Quality assurance and validation</h2>
<p>Comprehensive quality assurance mechanisms:</p>
<ul>
  <li><strong>Accuracy validation</strong>: Verify factual and logical accuracy via back-translation, consistency checking, authoritative source comparison. Check for completeness and potentially misleading emphasis.</li>
  <li><strong>Clarity validation</strong>: Evaluate comprehensibility using learned models (sentence length, complexity, vocabulary frequency, discourse coherence). Suggest revisions for improvement.</li>
  <li><strong>Appropriateness validation</strong>: Evaluate suitability for communicative context and user needs. Consider ethical and social factors. Adapt criteria based on feedback and evolving norms.</li>
</ul>

<h2>Why constraints matter</h2>
<p>Without constraints, a fluent realizer can add plausible details that were never derived. Constraints turn the correctness contract into an end-to-end property: not only is the internal reasoning checked, but the emitted text is guaranteed to be a rendering of checked state rather than an additional source of information.</p>

<h2>Audit and user trust</h2>
<p>Faithful realization supports audit. When the user asks why a claim was made, the system can point to the underlying fact identifiers and trace steps. When it cannot justify a claim, it must degrade to conditional or indeterminate outputs rather than inventing.</p>
<figure class="diagram">
<svg viewBox="0 0 900 400" role="img" aria-label="Decoding diagram">
  <defs>
    <linearGradient id="sky" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0" stop-color="#e8f3ff"/>
      <stop offset="1" stop-color="#d6f5e8"/>
    </linearGradient>
    <linearGradient id="deep" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0" stop-color="#0b6eff"/>
      <stop offset="1" stop-color="#16b879"/>
    </linearGradient>
  </defs>
  <rect x="90" y="60" rx="18" ry="18" width="240" height="70" fill="url(#sky)" stroke="#7fb3e6" stroke-width="2"/>
<text x="210.0" y="99.0" text-anchor="middle" font-size="13" fill="#0b1a2b" font-family="Space Grotesk">VM result (object + trace)</text>
<rect x="350" y="60" rx="18" ry="18" width="200" height="70" fill="url(#sky)" stroke="#7fb3e6" stroke-width="2"/>
<text x="450.0" y="99.0" text-anchor="middle" font-size="13" fill="#0b1a2b" font-family="Space Grotesk">Content planning</text>
<rect x="570" y="60" rx="18" ry="18" width="200" height="70" fill="url(#sky)" stroke="#7fb3e6" stroke-width="2"/>
<text x="670.0" y="99.0" text-anchor="middle" font-size="13" fill="#0b1a2b" font-family="Space Grotesk">Surface realization</text>
<line x1="330" y1="95" x2="350" y2="95" stroke="url(#deep)" stroke-width="4" stroke-linecap="round"/>
<polygon points="340,88 340,112 360,95" fill="#16b879"/>
<line x1="550" y1="95" x2="570" y2="95" stroke="url(#deep)" stroke-width="4" stroke-linecap="round"/>
<polygon points="560,88 560,112 580,95" fill="#16b879"/>

<rect x="180" y="160" rx="18" ry="18" width="540" height="70" fill="url(#sky)" stroke="#7fb3e6" stroke-width="2"/>
<text x="450.0" y="199.0" text-anchor="middle" font-size="13" fill="#0b1a2b" font-family="Space Grotesk">Fidelity: back-translation, provenance tracking, consistency</text>
<line x1="450" y1="130" x2="450" y2="160" stroke="#0b6eff" stroke-width="4" stroke-linecap="round"/>
<polygon points="440,153 440,167 460,160" fill="#16b879"/>

<rect x="80" y="260" rx="18" ry="18" width="260" height="70" fill="url(#sky)" stroke="#7fb3e6" stroke-width="2"/>
<text x="210.0" y="299.0" text-anchor="middle" font-size="13" fill="#0b1a2b" font-family="Space Grotesk">Multimodal output</text>
<rect x="360" y="260" rx="18" ry="18" width="200" height="70" fill="url(#sky)" stroke="#7fb3e6" stroke-width="2"/>
<text x="460.0" y="299.0" text-anchor="middle" font-size="13" fill="#0b1a2b" font-family="Space Grotesk">Quality validation</text>
<rect x="580" y="260" rx="18" ry="18" width="200" height="70" fill="url(#sky)" stroke="#7fb3e6" stroke-width="2"/>
<text x="680.0" y="299.0" text-anchor="middle" font-size="13" fill="#0b1a2b" font-family="Space Grotesk">Output</text>
<line x1="450" y1="230" x2="210" y2="260" stroke="#0b6eff" stroke-width="3" stroke-linecap="round"/>
<line x1="450" y1="230" x2="460" y2="260" stroke="#0b6eff" stroke-width="3" stroke-linecap="round"/>
<line x1="560" y1="295" x2="580" y2="295" stroke="url(#deep)" stroke-width="4" stroke-linecap="round"/>
<polygon points="570,288 570,302 590,295" fill="#16b879"/>

<rect x="80" y="350" width="480" height="50" rx="16" ry="16" fill="none" stroke="#7fb3e6" stroke-width="2"/>
<text x="96" y="372" text-anchor="start" font-size="12" fill="#2f4a63" font-family="Space Grotesk">Legend: VM state is source of truth. Realization controls wording, not content.</text>
<text x="96" y="390" text-anchor="start" font-size="12" fill="#2f4a63" font-family="Space Grotesk">Fidelity checks prevent silent hallucination. Output can be text, structured, or visual.</text>
</svg>
<figcaption>Decoding is a constrained realization: it can choose phrasing, but it must not invent facts beyond the VM state and trace. Fidelity mechanisms ensure end-to-end correctness.</figcaption>
</figure>
<h2>References</h2>
<p><a href="https://en.wikipedia.org/wiki/Natural_language_generation">Natural language generation (Wikipedia)</a> <a href="https://en.wikipedia.org/wiki/Explainable_artificial_intelligence">Explainable AI (Wikipedia)</a> <a href="https://en.wikipedia.org/wiki/Verification_and_validation">Verification and validation (Wikipedia)</a></p>
      </main>
      <footer class="footer">
        VSAVM is an Axiologic Research experiment within the Achilles project. This static documentation is written in clear academic English for engineers.
      </footer>
    </div>
  </body>
</html>
