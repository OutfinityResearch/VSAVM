<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>The VM core and retrieval interaction | VSAVM</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fraunces:wght@400;600&family=Space+Grotesk:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../assets/site.css">
  </head>
  <body>
    <div class="site">
      <header class="header">
        <div class="brand">VSAVM</div>
        <nav class="nav">
          <a href="../index.html">Home</a>
          <a href="../specs.html">Specs</a>
          <a href="../theory/index.html">Theory</a>
          <a href="../wiki/index.html">Wiki</a>
        </nav>
      </header>
      <main class="main content">
        <h1>The VM core and retrieval interaction</h1>
<p>This page is a theory note. It expands the topic in short chapters and defines terminology without duplicating the formal specification documents.</p><p>The diagram has a transparent background and is intended to be read together with the caption and the sections below.</p>
<p>Related wiki pages: <a href="../wiki/vm.html">VM</a>, <a href="../wiki/event-stream.html">event stream</a>, <a href="../wiki/vsa.html">VSA</a>, <a href="../wiki/bounded-closure.html">bounded closure</a>, <a href="../wiki/consistency-contract.html">consistency contract</a>.</p>
<h2>Overview</h2>
<p>The VM is the systemâ€™s semantic core. It stores facts, rules, contexts, and traces and executes programs to construct state. Retrieval exists to reduce search cost by proposing candidates, but it does not decide what is true.</p>
<h2>Minimalism and typing</h2>
<p>A small, typed instruction set reduces absurd combinations and branching blow-ups. The VM needs primitives for canonicalization, matching, branching, context management, and conflict checks. Typed slots and typed terms reduce combinatorial exploration and improve trace readability.</p>
<h2>How retrieval interacts</h2>
<p>VSA provides similarity-driven shortlists of schemas and macro programs. These shortlists are inputs to search and compilation, not outputs of truth. Every retrieved candidate must be validated by execution and closure to preserve the correctness contract under noise and paraphrase variation.</p>
<h2>Engineering benefits</h2>
<p>The explicit VM core makes it possible to unit test rules, regression test closure behavior, and audit decisions. Retrieval can be swapped or improved without changing semantics, because semantics are enforced by the VM and contract rather than by similarity ranking.</p>
<figure class="diagram">
<svg viewBox="0 0 900 340" role="img" aria-label="VM architecture diagram">
  <defs>
    <linearGradient id="sky" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0" stop-color="#e8f3ff"/>
      <stop offset="1" stop-color="#d6f5e8"/>
    </linearGradient>
    <linearGradient id="deep" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0" stop-color="#0b6eff"/>
      <stop offset="1" stop-color="#16b879"/>
    </linearGradient>
  </defs>
  <rect x="90" y="55" width="540" height="220" rx="26" ry="26" fill="none" stroke="#0b6eff" stroke-width="3"/>
<text x="120" y="85" text-anchor="start" font-size="13" fill="#2f4a63" font-family="Space Grotesk">VM core</text>
<rect x="130" y="105" rx="18" ry="18" width="210" height="60" fill="url(#sky)" stroke="#7fb3e6" stroke-width="2"/>
<text x="235.0" y="139.0" text-anchor="middle" font-size="13" fill="#0b1a2b" font-family="Space Grotesk">Fact store</text>
<rect x="360" y="105" rx="18" ry="18" width="210" height="60" fill="url(#sky)" stroke="#7fb3e6" stroke-width="2"/>
<text x="465.0" y="139.0" text-anchor="middle" font-size="13" fill="#0b1a2b" font-family="Space Grotesk">Rule memory</text>
<rect x="130" y="180" rx="18" ry="18" width="210" height="60" fill="url(#sky)" stroke="#7fb3e6" stroke-width="2"/>
<text x="235.0" y="214.0" text-anchor="middle" font-size="13" fill="#0b1a2b" font-family="Space Grotesk">Context stack</text>
<rect x="360" y="180" rx="18" ry="18" width="210" height="60" fill="url(#sky)" stroke="#7fb3e6" stroke-width="2"/>
<text x="465.0" y="214.0" text-anchor="middle" font-size="13" fill="#0b1a2b" font-family="Space Grotesk">Execution log</text>
<rect x="670" y="85" width="160" height="190" rx="26" ry="26" fill="none" stroke="#16b879" stroke-width="3"/>
<text x="690" y="115" text-anchor="start" font-size="13" fill="#2f4a63" font-family="Space Grotesk">Retrieval</text>
<rect x="690" y="130" rx="18" ry="18" width="120" height="55" fill="url(#sky)" stroke="#7fb3e6" stroke-width="2"/>
<text x="750.0" y="161.5" text-anchor="middle" font-size="13" fill="#0b1a2b" font-family="Space Grotesk">VSA</text>
<rect x="690" y="195" rx="18" ry="18" width="120" height="55" fill="url(#sky)" stroke="#7fb3e6" stroke-width="2"/>
<text x="750.0" y="226.5" text-anchor="middle" font-size="13" fill="#0b1a2b" font-family="Space Grotesk">Top-K</text>
<line x1="630" y1="170" x2="670" y2="170" stroke="url(#deep)" stroke-width="4" stroke-linecap="round"/>
<polygon points="660,163 660,177 680,170" fill="#16b879"/>
<rect x="90" y="285" width="360" height="78" rx="16" ry="16" fill="none" stroke="#7fb3e6" stroke-width="2"/>
<text x="106" y="307" text-anchor="start" font-size="12" fill="#2f4a63" font-family="Space Grotesk">Legend</text>
<text x="106" y="329" text-anchor="start" font-size="12" fill="#2f4a63" font-family="Space Grotesk">VM is the authority via execution.</text>
<text x="106" y="347" text-anchor="start" font-size="12" fill="#2f4a63" font-family="Space Grotesk">Retrieval proposes; VM validates.</text>
<text x="106" y="365" text-anchor="start" font-size="12" fill="#2f4a63" font-family="Space Grotesk">Logs enable audit and debugging.</text>
</svg>
<figcaption>A compact VM core remains the authority; retrieval accelerates candidate selection without changing semantics.</figcaption>
</figure>
<h2>References</h2>
<p><a href="https://en.wikipedia.org/wiki/Symbolic_execution">Symbolic execution (Wikipedia)</a> <a href="https://en.wikipedia.org/wiki/Vector_symbolic_architecture">Vector symbolic architecture (Wikipedia)</a> <a href="https://en.wikipedia.org/wiki/Trace_(software)">Execution trace (Wikipedia)</a></p>
      </main>
      <footer class="footer">
        VSAVM is an Axiologic Research experiment within the Achilles project. This static documentation is written in clear academic English for engineers.
      </footer>
    </div>
  </body>
</html>
