<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Structural boundaries and scope | VSAVM</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fraunces:wght@400;600&family=Space+Grotesk:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../assets/site.css">
  </head>
  <body>
    <div class="site">
      <header class="header">
        <div class="brand">VSAVM</div>
        <nav class="nav">
          <a href="../index.html">Home</a>
          <a href="../specs/">Specs</a>
          <a href="../theory/index.html">Theory</a>
          <a href="../wiki/index.html">Wiki</a>
        </nav>
      </header>
      <main class="main content">
        <h1>Structural boundaries and scope</h1>
<p>This page is a theory note. It expands the topic in short chapters and defines terminology without duplicating the formal specification documents.</p><p>The diagram has a transparent background and is intended to be read together with the caption and the sections below.</p>
<p>Related wiki pages: <a href="../wiki/vm.html">VM</a>, <a href="../wiki/event-stream.html">event stream</a>, <a href="../wiki/vsa.html">VSA</a>, <a href="../wiki/bounded-closure.html">bounded closure</a>, <a href="../wiki/consistency-contract.html">consistency contract</a>.</p>
<p>Related specs: <a href="../specs-viewer.html?doc=specs/DS001-foundations-and-architecture.md">DS001</a>, <a href="../specs-viewer.html?doc=specs/DS007-data-formats-and-constants.md">DS007</a>, <a href="../specs-viewer.html?doc=specs/DS010-emergent-separator-discovery.md">DS010</a>.</p>

<h2>Overview</h2>
<p>Correctness claims require scope. Real corpora contain incompatible sources, hypothetical statements, and quoted passages. If the system treats all statements as globally active, bounded closure either explodes in contradictions or becomes meaningless because conflicts are ignored.</p>

<h2>Boundaries as signals</h2>
<p>Structural boundaries include headings, paragraphs, lists, quotes, definitions, and procedural steps. In multimodal inputs, boundaries also include temporal segments and scene changes. VSAVM treats these separators as explicit events so the VM can localize inference without guessing.</p>
<p>Separators are not only for training; they are required for correctness. Transitive closure and contradiction detection are infeasible without context and scope. Separators define what belongs to the same paragraph or section and what belongs to a different chapter, enabling the system to maintain local theories without collapsing all knowledge into a single inconsistent base.</p>

<h2>Implementation snapshot (current code)</h2>
<p>Scope derivation is intentionally structural and enforced by the core identifier layer:</p>
<ol>
  <li><strong>Events carry <code>contextPath</code></strong> (array of strings) whenever an ingest pipeline can provide stable structure (DS007).</li>
  <li><strong>DS010 separator detection</strong> can infer boundary candidates from similarity gradients in a modality-agnostic VSA embedding (<code>detectStructuralSeparators</code>).</li>
  <li><strong>Scope IDs are created structurally</strong> using <code>createStructuralScopeId(events, position, separators)</code>:
    <ul>
      <li>If an event has <code>contextPath</code>, it becomes the scope path.</li>
      <li>Otherwise a fallback path is built from the strongest detected separators.</li>
    </ul>
  </li>
  <li><strong>Hardcoded “domain scopes” are rejected</strong>: <code>createScopeId</code> throws if the path begins with <code>['domain', ...]</code>.</li>
  <li><strong>Containment queries are prefix-based</strong>: a shorter path selects a larger region (see <code>scopeContains</code>).</li>
  <li><strong>Facts are scoped</strong>: contradiction checks are only meaningful inside a scope.</li>
</ol>

<h2>Scope-aware correctness</h2>
<p>A contradiction is defined canonically as the same fact identifier appearing with opposing polarity inside the same scope. Structural separators define that scope, and the VM carries scope through execution. This enables local theories that remain coherent even when global reconciliation is not possible under budget.</p>
<p>This structural scoping is the minimal requirement for a practical non-contradiction promise when the corpus is imperfect or contains conflicting sources.</p>

<h2>Practical outcomes</h2>
<p>Scope enables conditional reasoning across sources. A claim can be robust within a scope while being conditional across scopes. This makes the system useful under real-world inconsistency without abandoning the non-contradiction promise.</p>
<figure class="diagram">
<img class="diagram-svg" src="../assets/svg/structure-and-scope-diagram.svg" alt="structure-and-scope diagram">
<figcaption>Scope makes contradiction detection meaningful by restricting which facts may interact during closure.</figcaption>
</figure>
<h2>References</h2>
<p><a href="https://en.wikipedia.org/wiki/Scope_(computer_science)">Scope (computer science) (Wikipedia)</a> <a href="https://en.wikipedia.org/wiki/Context_(computing)">Context (computing) (Wikipedia)</a> <a href="https://en.wikipedia.org/wiki/Consistency">Consistency (Wikipedia)</a></p>
      </main>
      <footer class="footer">
        VSAVM is an Axiologic Research experiment within the Achilles project. This static documentation is written in clear academic English for engineers.
      </footer>
    </div>
  </body>
</html>
